<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<link rel="icon" type="image/png" href="img/favicon.ico">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<title>Rent Car - Dashboard</title>

	<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
    <meta name="viewport" content="width=device-width" />

    <!-- Bootstrap core CSS     -->
    <link href="css/bootstrap.min.css" rel="stylesheet" />

    <!-- Animation library for notifications   -->
    <link href="css/animate.min.css" rel="stylesheet"/>

    <!--  Light Bootstrap Table core CSS    -->
    <link href="css/light-bootstrap-dashboard.css" rel="stylesheet"/>

    <!--  CSS for Demo Purpose, don't include it in your project     -->
    <link href="css/demo.css" rel="stylesheet" />

    <!--     Fonts and icons     -->
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Roboto:400,700,300' rel='stylesheet' type='text/css'>
    <link href="css/pe-icon-7-stroke.css" rel="stylesheet" />
</head>
<body>
    <div class="wrapper">
        <div class="sidebar" data-color="blue" data-image="img/sidebar-5.jpg">
        <!--
            Tip 1: you can change the color of the sidebar using: data-color="blue | azure | green | orange | red | purple"
            Tip 2: you can also add an image using data-image tag
        -->
        </div>

        <div class="main-panel">
            <nav class="navbar navbar-default navbar-fixed">
            </nav>
            <div class="content">
                <div class="container-fluid">
                    <div class="row">
                            <div class="col-md-4">
                                <div class="card">
                                    <div class="header">
                                        <h4 class="title">Cars Statistics</h4>
                                        <p class="category">Last Campaign Performance</p>
                                    </div>
                                    <div class="content">
                                        <div id="chartPreferences" class="ct-chart ct-perfect-fourth">
                                        </div>
                                        <div class="footer">
                                            <div class="legend">
                                                <i class="fa fa-circle text-info"></i> Available
                                                <i class="fa fa-circle text-danger"></i> Hired
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-8">
                                <div class="card">
                                    <div class="header">
                                        <h4 class="title">Users Behavior</h4>
                                        <p class="category">24 Hours performance</p>
                                    </div>
                                    <div class="content">
                                        <div id="chartHours" class="ct-chart"><svg xmlns:ct="http://gionkunz.github.com/chartist-js/ct" width="100%" height="245px" class="ct-chart-line" style="width: 100%; height: 245px;"><g class="ct-grids"><line y1="210" y2="210" x1="50" x2="965" class="ct-grid ct-vertical"></line><line y1="185.625" y2="185.625" x1="50" x2="965" class="ct-grid ct-vertical"></line><line y1="161.25" y2="161.25" x1="50" x2="965" class="ct-grid ct-vertical"></line><line y1="136.875" y2="136.875" x1="50" x2="965" class="ct-grid ct-vertical"></line><line y1="112.5" y2="112.5" x1="50" x2="965" class="ct-grid ct-vertical"></line><line y1="88.125" y2="88.125" x1="50" x2="965" class="ct-grid ct-vertical"></line><line y1="63.75" y2="63.75" x1="50" x2="965" class="ct-grid ct-vertical"></line><line y1="39.375" y2="39.375" x1="50" x2="965" class="ct-grid ct-vertical"></line><line y1="15" y2="15" x1="50" x2="965" class="ct-grid ct-vertical"></line></g><g><g class="ct-series ct-series-a"><path d="M50,210L50,140.044C75.417,140.044,100.833,116.156,126.25,116.156C151.667,116.156,177.083,90.563,202.5,90.563C227.917,90.563,253.333,90.075,278.75,90.075C304.167,90.075,329.583,74.963,355,74.963C380.417,74.963,405.833,67.163,431.25,67.163C456.667,67.163,482.083,39.863,507.5,39.863C532.917,39.863,558.333,40.594,583.75,40.594C609.167,40.594,634.583,26.7,660,26.7C685.417,26.7,710.833,17.925,736.25,17.925C761.667,17.925,787.083,3.787,812.5,3.787C837.917,3.787,863.333,-20.1,888.75,-20.1L888.75,210Z" class="ct-area"></path></g><g class="ct-series ct-series-b"><path d="M50,210L50,193.669C75.417,193.669,100.833,172.95,126.25,172.95C151.667,172.95,177.083,175.144,202.5,175.144C227.917,175.144,253.333,151.5,278.75,151.5C304.167,151.5,329.583,140.044,355,140.044C380.417,140.044,405.833,128.344,431.25,128.344C456.667,128.344,482.083,103.969,507.5,103.969C532.917,103.969,558.333,103.481,583.75,103.481C609.167,103.481,634.583,78.619,660,78.619C685.417,78.619,710.833,77.887,736.25,77.887C761.667,77.887,787.083,77.4,812.5,77.4C837.917,77.4,863.333,52.294,888.75,52.294L888.75,210Z" class="ct-area"></path></g><g class="ct-series ct-series-c"><path d="M50,210L50,204.394C75.417,204.394,100.833,182.456,126.25,182.456C151.667,182.456,177.083,193.669,202.5,193.669C227.917,193.669,253.333,183.675,278.75,183.675C304.167,183.675,329.583,163.688,355,163.688C380.417,163.688,405.833,151.744,431.25,151.744C456.667,151.744,482.083,135.169,507.5,135.169C532.917,135.169,558.333,134.925,583.75,134.925C609.167,134.925,634.583,102.994,660,102.994C685.417,102.994,710.833,110.063,736.25,110.063C761.667,110.063,787.083,110.063,812.5,110.063C837.917,110.063,863.333,85.931,888.75,85.931L888.75,210Z" class="ct-area"></path></g></g><g class="ct-labels"><foreignObject style="overflow: visible;" x="50" y="215" width="76.25" height="20"><span class="ct-label ct-horizontal ct-end" xmlns="http://www.w3.org/2000/xmlns/" style="width: 76px; height: 20px;">9:00AM</span></foreignObject><foreignObject style="overflow: visible;" x="126.25" y="215" width="76.25" height="20"><span class="ct-label ct-horizontal ct-end" xmlns="http://www.w3.org/2000/xmlns/" style="width: 76px; height: 20px;">12:00AM</span></foreignObject><foreignObject style="overflow: visible;" x="202.5" y="215" width="76.25" height="20"><span class="ct-label ct-horizontal ct-end" xmlns="http://www.w3.org/2000/xmlns/" style="width: 76px; height: 20px;">3:00PM</span></foreignObject><foreignObject style="overflow: visible;" x="278.75" y="215" width="76.25" height="20"><span class="ct-label ct-horizontal ct-end" xmlns="http://www.w3.org/2000/xmlns/" style="width: 76px; height: 20px;">6:00PM</span></foreignObject><foreignObject style="overflow: visible;" x="355" y="215" width="76.25" height="20"><span class="ct-label ct-horizontal ct-end" xmlns="http://www.w3.org/2000/xmlns/" style="width: 76px; height: 20px;">9:00PM</span></foreignObject><foreignObject style="overflow: visible;" x="431.25" y="215" width="76.25" height="20"><span class="ct-label ct-horizontal ct-end" xmlns="http://www.w3.org/2000/xmlns/" style="width: 76px; height: 20px;">12:00PM</span></foreignObject><foreignObject style="overflow: visible;" x="507.5" y="215" width="76.25" height="20"><span class="ct-label ct-horizontal ct-end" xmlns="http://www.w3.org/2000/xmlns/" style="width: 76px; height: 20px;">3:00AM</span></foreignObject><foreignObject style="overflow: visible;" x="583.75" y="215" width="76.25" height="20"><span class="ct-label ct-horizontal ct-end" xmlns="http://www.w3.org/2000/xmlns/" style="width: 76px; height: 20px;">6:00AM</span></foreignObject><foreignObject style="overflow: visible;" x="660" y="215" width="76.25" height="20"><span class="ct-label ct-horizontal ct-end" xmlns="http://www.w3.org/2000/xmlns/" style="width: 76px; height: 20px;"></span></foreignObject><foreignObject style="overflow: visible;" x="736.25" y="215" width="76.25" height="20"><span class="ct-label ct-horizontal ct-end" xmlns="http://www.w3.org/2000/xmlns/" style="width: 76px; height: 20px;"></span></foreignObject><foreignObject style="overflow: visible;" x="812.5" y="215" width="76.25" height="20"><span class="ct-label ct-horizontal ct-end" xmlns="http://www.w3.org/2000/xmlns/" style="width: 76px; height: 20px;"></span></foreignObject><foreignObject style="overflow: visible;" x="888.75" y="215" width="76.25" height="20"><span class="ct-label ct-horizontal ct-end" xmlns="http://www.w3.org/2000/xmlns/" style="width: 76px; height: 20px;"></span></foreignObject><foreignObject style="overflow: visible;" y="185.625" x="10" height="24.375" width="30"><span class="ct-label ct-vertical ct-start" xmlns="http://www.w3.org/2000/xmlns/" style="height: 24px; width: 30px;">0</span></foreignObject><foreignObject style="overflow: visible;" y="161.25" x="10" height="24.375" width="30"><span class="ct-label ct-vertical ct-start" xmlns="http://www.w3.org/2000/xmlns/" style="height: 24px; width: 30px;">100</span></foreignObject><foreignObject style="overflow: visible;" y="136.875" x="10" height="24.375" width="30"><span class="ct-label ct-vertical ct-start" xmlns="http://www.w3.org/2000/xmlns/" style="height: 24px; width: 30px;">200</span></foreignObject><foreignObject style="overflow: visible;" y="112.5" x="10" height="24.375" width="30"><span class="ct-label ct-vertical ct-start" xmlns="http://www.w3.org/2000/xmlns/" style="height: 24px; width: 30px;">300</span></foreignObject><foreignObject style="overflow: visible;" y="88.125" x="10" height="24.375" width="30"><span class="ct-label ct-vertical ct-start" xmlns="http://www.w3.org/2000/xmlns/" style="height: 24px; width: 30px;">400</span></foreignObject><foreignObject style="overflow: visible;" y="63.75" x="10" height="24.375" width="30"><span class="ct-label ct-vertical ct-start" xmlns="http://www.w3.org/2000/xmlns/" style="height: 24px; width: 30px;">500</span></foreignObject><foreignObject style="overflow: visible;" y="39.375" x="10" height="24.375" width="30"><span class="ct-label ct-vertical ct-start" xmlns="http://www.w3.org/2000/xmlns/" style="height: 24px; width: 30px;">600</span></foreignObject><foreignObject style="overflow: visible;" y="15" x="10" height="24.375" width="30"><span class="ct-label ct-vertical ct-start" xmlns="http://www.w3.org/2000/xmlns/" style="height: 24px; width: 30px;">700</span></foreignObject><foreignObject style="overflow: visible;" y="-15" x="10" height="30" width="30"><span class="ct-label ct-vertical ct-start" xmlns="http://www.w3.org/2000/xmlns/" style="height: 30px; width: 30px;">800</span></foreignObject></g></svg></div>
                                        <div class="footer">
                                            <div class="legend">
                                                <i class="fa fa-circle text-info"></i> Open
                                                <i class="fa fa-circle text-danger"></i> Click
                                                <i class="fa fa-circle text-warning"></i> Click Second Time
                                            </div>
                                            <hr>
                                            <div class="stats">
                                                <i class="fa fa-history"></i> Updated 3 minutes ago
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>        

                    <!-- <div class="row">
                        <div class="col-md-6 pull-right"> 
                            <div class="col-xs-5">                                      
                                <div class="panel panel-default">
                                    <center class="panel-heading">Blocks</center>
                                    <center class="panel-body">
                                        <span data-blocks></span>        
                                    </center>
                                </div>
                            </div>
                            <div class="col-xs-4">      
                                <div class="panel panel-default">
                                    <center class="panel-heading">Transaction</center>
                                    <center class="panel-body">
                                        <span data-txn></span>
                                    </center>
                                </div>
                            </div>
                            <div class="col-xs-4">       
                                <div class="panel panel-default">
                                    <center class="panel-heading">QUEUED TXN</center>
                                    <center class="panel-body">
                                        <span data-pending-txn></span>
                                    </center>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="col-xs-3"></div>
                            <div class="col-xs-3"></div>
                            <div class="col-xs-3"></div>
                        </div>    
                    </div> -->
                    <div class="row">
                        <div class="col-md-12">
                            <div class="card">
                                <div class="header">
                                    <h4 class="title">Transaction Details</h4>
                                    <p class="category"></p>
                                </div>
                                <div class="content table-responsive table-full-width">
                                    <table class="table table-hover table-striped" id="tblTxn">
                                        <thead>
                                            <th>Block #</th>
                                            <th>Txn Hash</th>
                                            <th>Date/Time</th>
                                        </thead>
                                        <tbody>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="card">
                                <div class="header">
                                    <h4 class="title">Transaction Details</h4>
                                    <p class="category"></p>
                                </div>
                                <div class="content table-responsive table-full-width">
                                    <table class="table table-hover table-striped" id="tblAcc">
                                        <thead>
                                            <th>Account #</th>
                                            <th>Balance</th>
                                        </thead>
                                        <tbody>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <footer class="footer" id="pagefooter">
            </footer>
        </div>
    </div>
</body>
    <!--   Core JS Files   -->
    <script src="js/jquery-1.10.2.js" type="text/javascript"></script>
	<script src="js/bootstrap.min.js" type="text/javascript"></script>

	<!--  Checkbox, Radio & Switch Plugins -->
	<script src="js/bootstrap-checkbox-radio-switch.js"></script>

	<!--  Charts Plugin -->
	<script src="js/chartist.min.js"></script>

    <!-- Light Bootstrap Table Core javascript and methods for Demo purpose -->
	<script src="js/light-bootstrap-dashboard.js"></script>

	<!-- Light Bootstrap Table DEMO methods, don't include it in your project! -->
	<script src="js/demo.js"></script>

    <script type="text/javascript">

        //include header footer
        $(".sidebar").load("adminheader.html");
        $("#pagefooter").load("adminfooter.html");
        $(".navbar").load("menu.html");
        

        $(document).ready(function(){

            var data;

            $.ajax({
                url:'/listcar',
                type:'GET',
                success:function(data){

                    //set the stat
                    a = $.grep(data, function(item,index){
                        return item[3] == 0
                    });
                    //set the stat
                    h = $.grep(data, function(item,index){
                        return item[3] == 1;
                    });

                    l1 = a.length.toString();
                    l2 = h.length.toString();

                    var data = {
                        labels: [l1,l2],
                        series: [a.length,h.length]
                    };

                    var options = {
                        labelInterpolationFnc: function(value) {
                            return value[0]
                        }
                    };


                    var sum = function(a, b) { return a + b };
              
                    new Chartist.Pie('#chartPreferences', data, {
                        labelInterpolationFnc: function(value) {
                            return Math.round(value / data.series.reduce(sum) * 100) + '%';
                        }
                    });

                    //new Chartist.Pie('#chartPreferences', data, options);
                },
                error:function(){
                }
            });

            $.ajax({
                url:'/transactions',
                type:'GET',
                success:function(data){

                    $tblTxns = $("#tblTxn");

                    $.each(data,function(i,element){

                        var t = new Date(parseInt(element.TimeStamp));
                        
                        var row = "<tr><td>"+element.BlockNumber+"</td><td>"+element.TxHash+"</td><td>"+element.TimeStamp+"</td></tr>";
                        $tblTxns.append(row);
                    });
                },
                error:function(){

                }
            });

            $.ajax({
                url:'/acclst',
                type:'GET',
                success:function(data){

                    $tblAcc = $("#tblAcc");

                    $.each(data,function(i,element){
                        
                        var row = "<tr><td>"+element.Account+"</td><td>"+element.Balance+"</td></tr>";
                        $tblAcc.append(row);
                    });
                },
                error:function(){

                }
            });
        });
	</script>

</html>
